(this["webpackJsonpmobile-ui"]=this["webpackJsonpmobile-ui"]||[]).push([[0],{12:function(e,t,a){e.exports={"center-flex":"Base_center-flex__3e8rV",test:"Base_test__2CQ9W","between-flex":"Base_between-flex__2JEdH","display-none":"Base_display-none__nQkqB","bg-button":"Base_bg-button__1Q_DI","bg-main":"Base_bg-main__2wYth","bg-body":"Base_bg-body__2lWNk",main:"Base_main__2wifJ","main-top":"Base_main-top__3pU-Q","container-back_button":"Base_container-back_button__3tNFJ","container-home-and-question":"Base_container-home-and-question__6dyvD","btn-mobile":"Base_btn-mobile__radJB","btn-scan":"Base_btn-scan__3JmSL","btn-custom":"Base_btn-custom__3d8Xn","main-body":"Base_main-body__36lCJ","overlay-main":"Base_overlay-main__2kaKX",guide:"Base_guide__2aDFR","text-box-guide":"Base_text-box-guide__3l6uX","icon-item-guide":"Base_icon-item-guide__3jTXU"}},150:function(e,t,a){e.exports={"center-flex":"Question_center-flex__-anrB",test:"Question_test___t0ic","between-flex":"Question_between-flex__1mBTr","display-none":"Question_display-none__1GGPa","bg-button":"Question_bg-button__284uC","bg-main":"Question_bg-main__1h2b8","bg-body":"Question_bg-body__2y8vy",main:"Question_main__2FJ9F","main-top":"Question_main-top__7jASS","container-back_button":"Question_container-back_button__1Abn_","container-home-and-question":"Question_container-home-and-question__J8x9q","btn-mobile":"Question_btn-mobile__nTee-","btn-scan":"Question_btn-scan__JEuNq","btn-custom":"Question_btn-custom__3hNpb","main-body":"Question_main-body__2O-Yg","overlay-main":"Question_overlay-main__38N4X",guide:"Question_guide__1bcUQ","text-box-guide":"Question_text-box-guide__2RGdK","icon-item-guide":"Question_icon-item-guide__3Ms-J","body-question":"Question_body-question__2VXvc","main-question":"Question_main-question__1dTCt",tranformS:"Question_tranformS__tyM8T","clock-goiy":"Question_clock-goiy__jXq27",artifacts:"Question_artifacts___TfMU","mySlides-artifacts":"Question_mySlides-artifacts__2Red6","mySlides-artifacts--item":"Question_mySlides-artifacts--item__1qm7Q","icon-choice":"Question_icon-choice__3vs5-","container-decription-history":"Question_container-decription-history__ZtLVA","container-suggestions":"Question_container-suggestions__9l6ve"}},152:function(e,t,a){e.exports={"image-start":"Start_image-start__3ZuIg","btn-start":"Start_btn-start__3gVGw"}},2:function(e,t,a){e.exports={loading:"loading_loading__3JlrZ",background:"loading_background__25miB",textLoading:"loading_textLoading__3BFnL",crtLoading:"loading_crtLoading__21Om6",loadingText05:"loading_loadingText05__28_2Z",loadingAnimation:"loading_loadingAnimation__2Wt7t",container:"loading_container__3Wpra",cube:"loading_cube__rB9rR",right:"loading_right__1K_Ru",left:"loading_left__5plkl",top:"loading_top__2-IJx",face:"loading_face__1UfAO",h1:"loading_h1__25gm2",w1:"loading_w1__2YToN",l1:"loading_l1__2VRHs",h1w1l1:"loading_h1w1l1__3VGLn",l2:"loading_l2__3LYQE",h1w1l2:"loading_h1w1l2__3HCK0",l3:"loading_l3__35DAO",h1w1l3:"loading_h1w1l3__2acne",w2:"loading_w2__25Kkd",h1w2l1:"loading_h1w2l1__ibhdk",h1w2l2:"loading_h1w2l2__2G6RA",h1w2l3:"loading_h1w2l3__7qn1M",w3:"loading_w3__2n-eP",h1w3l1:"loading_h1w3l1__26wX4",h1w3l2:"loading_h1w3l2__2wNCH",h1w3l3:"loading_h1w3l3__lJC0t",h2:"loading_h2__1WwVv",h2w1l1:"loading_h2w1l1__3sMbh",h2w1l2:"loading_h2w1l2__3TUcs",h2w1l3:"loading_h2w1l3__3iUPG",h2w2l1:"loading_h2w2l1__2PVWL",h2w2l2:"loading_h2w2l2__1Dw0E",h2w2l3:"loading_h2w2l3__2Qicw",h2w3l1:"loading_h2w3l1__2AKND",h2w3l2:"loading_h2w3l2__1qn8L",h2w3l3:"loading_h2w3l3__2DHKo",h3:"loading_h3__1nqCA",h3w1l1:"loading_h3w1l1__17nDU",h3w1l2:"loading_h3w1l2__8Ihvk",h3w1l3:"loading_h3w1l3__3Fch3",h3w2l1:"loading_h3w2l1__1BeTz",h3w2l2:"loading_h3w2l2__1xN8U",h3w2l3:"loading_h3w2l3__2z_9f",h3w3l1:"loading_h3w3l1__2GJDo",h3w3l2:"loading_h3w3l2__1pGhE",h3w3l3:"loading_h3w3l3__3Ynw9"}},219:function(e,t,a){},235:function(e,t,a){e.exports={"box-xepHinh":"XepHinh_box-xepHinh__1hXAw"}},241:function(e,t,a){},245:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},252:function(e,t,a){},31:function(e,t,a){e.exports={"background-configration":"Complete_background-configration__2MB8w","background-screen-winner":"Complete_background-screen-winner__oyqA-","image-huychuong":"Complete_image-huychuong__uY42S","container-winner-content":"Complete_container-winner-content__3fSRm","done-clock-text":"Complete_done-clock-text__lpFu7","bg-winner-content":"Complete_bg-winner-content__3Apwm"}},32:function(e,t,a){e.exports={"control-camera":"Scan_control-camera__xd9E0","item-control-camera":"Scan_item-control-camera__2gMSB",camera:"Scan_camera__1w95i","view-camera":"Scan_view-camera__2l6vB"}},451:function(e,t,a){},452:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},505:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(231),i=a.n(c),s=(a(241),a(40)),o=a(7),r=(a(95),a(55)),l=a.n(r),d=function(e){this.el=e,this.containerEl=null,this.confettiFrequency=3,this.confettiColors=["#EF2964","#00C09D","#2D87B0","#48485E","#EFFF1D"],this.confettiAnimations=["slow","medium","fast"],this._setupElements(),this._renderConfetti()};d.prototype._setupElements=function(){var e=document.createElement("div"),t=this.el.style.position;"relative"===t&&"absolute"===t||(this.el.style.position="relative"),e.classList.add(l.a["confetti-container"]),this.el.appendChild(e),this.containerEl=e},d.prototype._renderConfetti=function(){var e=this;this.confettiInterval=setInterval((function(){console.log("hoaroi");var t=document.createElement("div"),a=Math.floor(3*Math.random())+7+"px",n=e.confettiColors[Math.floor(Math.random()*e.confettiColors.length)],c=Math.floor(Math.random()*e.el.offsetWidth)+"px",i=e.confettiAnimations[Math.floor(Math.random()*e.confettiAnimations.length)];t.classList.add(l.a.confetti,l.a["confetti--animation-".concat(i)]),t.style.left=c,t.style.width=a,t.style.height=a,t.style.backgroundColor=n,t.removeTimeout=setTimeout((function(){t.parentNode.removeChild(t)}),3e3),e.containerEl.appendChild(t)}),90)};var u=d,j=a(3),b=a(0);var m=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){return t.current&&(console.log("khoi tao hoa roi"),window.confettiful=new u(t.current)),function(){console.log("huy hoa roi"),clearInterval(window.confettiful.confettiInterval)}}),[]),Object(b.jsx)("div",{ref:t,className:Object(j.a)(l.a["container-effect"])})},h=a(5),O=a(4),f=a(15),v=a(12),x=a.n(v),_=["children","isLoading"];var g=function(e){var t=e.children,a=e.isLoading,n=Object(f.a)(e,_);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:Object(j.a)(x.a["main-body"]),children:[t,a&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{position:"fixed",top:"50%",right:"50%"},children:Object(b.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(b.jsx)("span",{style:{position:"fixed",top:"50%",right:"45%",zIndex:3e3},children:null===n||void 0===n?void 0:n.text})]})]})})},p=a(17),w=["children","visibleTopMain","onSetTypeModal"];var y=function(e){var t=e.children,a=e.visibleTopMain,n=e.onSetTypeModal,c=Object(f.a)(e,w),i=(Object(o.f)(),c.RemoveHQ),s=c.removeBack;return Object(b.jsxs)("div",{className:Object(j.a)(x.a["main-top"],"row","gx-0",Object(p.a)({"position-fixed":a},x.a["display-none"],!a)),children:[Object(b.jsx)("div",{className:Object(j.a)(Object(p.a)({},x.a["display-none"],s))}),Object(b.jsx)("div",{className:Object(j.a)(x.a["container-home-and-question"],Object(p.a)({},x.a["display-none"],i)),children:Object(b.jsx)("i",{className:Object(j.a)("bi","bi-patch-question-fill"),onClick:function(){n("map")}})}),t]})},N=["children"];var T=function(e){return e.children,Object(f.a)(e,N),Object(b.jsx)("div",{className:Object(j.a)(x.a["overlay-main"]),children:Object(b.jsxs)("div",{className:Object(j.a)(x.a.guide),children:[Object(b.jsx)("img",{className:Object(j.a)(x.a["item-guide"],x.a["image-guide"]),src:"./assets/images/Bot-1 1.png",alt:""}),Object(b.jsx)("div",{className:Object(j.a)(x.a["bg-main"],x.a["item-guide"],x.a["text-box-guide"]),children:Object(b.jsx)("p",{children:"Xem h\u1ed9p th\xe0nh t\u1ef1u \u0111\u1ec3 bi\u1ebft nh\u1eefng \u0111i\u1ec1u \u0111\xe3 \u0111\u1ea1t \u0111\u01b0\u1ee3c. C\xf9ng nhau gi\u1ea3i \u0111\u1ed1 \u0111\u1ec3 \u0111i \u0111\u1ebfn \u0111\u1ecba \u0111i\u1ec3m ti\u1ebfp theo. V\xe0 scan khi t\u1edbi n\u01a1i."})})]})})},C=a(93),S=["isLoading","onSetTypeModal","visibleNavbar"];var k=function(e){var t=e.isLoading,a=e.onSetTypeModal,c=e.visibleNavbar,i=void 0===c||c,s=Object(f.a)(e,S),o=s.propsHeader,r=(s.propsBody,s.propsOverlay,s.top),l=s.header,d=s.headerBody,u=s.body,m=s.overlay,v=Object(n.useRef)(),_=Object(n.useState)(!1),p=Object(O.a)(_,2),w=p[0],N=p[1];return Object(n.useEffect)((function(){function e(){N(!0)}return v.current.addEventListener("scroll",e),function(){var t;return null===(t=v.current)||void 0===t?void 0:t.removeEventListener("scroll",e)}}),[]),w&&setTimeout((function(){N(!1)}),2e3),Object(n.useLayoutEffect)((function(){C.store.setState("elMain",v)}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{ref:v,className:Object(j.a)("container-sm","border",x.a.main),children:[r,Object(b.jsx)(y,Object(h.a)(Object(h.a)({},o),{},{visibleTopMain:w&&i,onSetTypeModal:a,children:l})),d,Object(b.jsx)(g,Object(h.a)(Object(h.a)({isLoading:t},s),{},{children:u})),Object(b.jsx)(T,{children:m}),s.children]})})},I=a(31),E=a.n(I);var M=function(e){return Object(b.jsxs)("div",{className:Object(j.a)(E.a["background-main"]),children:[Object(b.jsx)("div",{className:Object(j.a)(E.a["background-screen-winner"])}),Object(b.jsx)("div",{className:Object(j.a)(E.a["image-huychuong"])})]})};a(245);var R=function(e){var t=Object(n.useState)(0),a=Object(O.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){i(JSON.parse(sessionStorage.getItem("totalTime")))}),[sessionStorage.getItem("totalTime")]);var s=Object(o.f)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:Object(j.a)("row",E.a["container-winner-content"]),children:[Object(b.jsx)("div",{className:Object(j.a)(E.a["done-clock"]),children:Object(b.jsx)("p",{className:Object(j.a)("text-center","fw-normal","fs-3",E.a["done-clock-text"]),children:function(e){var t=e%60>=10?e%60:"0".concat(e%60),a=Math.floor(e/60)>=10?Math.floor(e/60):"0".concat(Math.floor(e/60));return"".concat(a,":").concat(t)}(c)})}),Object(b.jsx)("div",{children:Object(b.jsx)("p",{className:Object(j.a)("text-center","fw-bolder","fs-4"),children:"K\u1eba H\u1ee6Y DI\u1ec6T L\u1ecaCH S\u1eec"})}),Object(b.jsxs)("div",{style:{position:"relative"},children:[Object(b.jsx)("p",{className:Object(j.a)("text-center"),children:"Th\u1eadt tuy\u1ec7t v\u1eddi, b\u1ea1n \u0111\xe3 l\xe0 m\u1ed9t trong nh\u1eefng ng\u01b0\u1eddi xu\u1ea5t s\u1eafc ho\xe0n th\xe0nh tour kh\xe1m ph\xe1 b\u1ea3o t\xe0ng"}),Object(b.jsx)("div",{className:Object(j.a)(E.a["bg-winner-content"])})]}),Object(b.jsx)("div",{className:Object(j.a)(x.a["center-flex"],"mt-2","row"),children:Object(b.jsx)("div",{children:Object(b.jsxs)("p",{className:"text-center",children:["H\xe0 N\u1ed9i, ng\xe0y ",function(){var e=new Date,t=e.getDate()+"-";return t+=+e.getMonth()+1+"-",t+=+e.getFullYear()}()]})})}),Object(b.jsx)("div",{className:"row d-flex align-items-center justify-content-center mt-2 ",children:Object(b.jsx)("div",{onClick:function(){return s("/start")},className:Object(j.a)("col-4","btn",x.a["btn-mobile"],x.a["bg-button"]),children:"CHIA S\u1eba"})})]})})};var P=function(e){return Object(b.jsx)(k,{body:Object(b.jsx)(R,{}),top:Object(b.jsx)(M,{}),children:Object(b.jsx)(m,{})})};a(246),a(247);var q=a(150),D=a.n(q);var A=function(e){var t=e.text,a=e.top,n=e.left,c=e.size,i=e.color;return Object(b.jsx)("div",{className:"animate__bounceInDown animate__animated",style:{position:"fixed",top:a||0,left:n||0,zIndex:2,fontSize:c||"50px",fontFamily:"cursive",color:i||"black"},children:t})};a(248);var B=function(e){var t=e.firstValue,a=e.onClearTime,c=e.onBackToPrev,i=e.onChangeStatusTime,s=Object(n.useState)(t),o=Object(O.a)(s,2),r=o[0],l=o[1],d=Object(n.useRef)(),u=Object(n.useState)(),j=Object(O.a)(u,2);return j[0],j[1],Object(n.useEffect)((function(){return d.current=setInterval((function(){l((function(e){return e-1}))}),1e3),function(){return clearInterval(d.current)}}),[]),Object(n.useEffect)((function(){if(0==r){clearInterval(d.current);var e=setTimeout((function(){c&&c(),a&&a("timeover"),clearTimeout(e)}),1500)}}),[r]),Object(n.useEffect)((function(){i&&clearInterval(d.current)}),[i]),Object(b.jsxs)("div",{className:"time_count ".concat(r<=5?"blink-text-count-time":""),children:[function(e){var t=e%60>=10?e%60:"0".concat(e%60),a=Math.floor(e/60)>=10?Math.floor(e/60):"0".concat(Math.floor(e/60));return"".concat(a,":").concat(t)}(r),0==r&&Object(b.jsx)(A,{text:"H\u1ebft gi\u1edd",top:"25%",left:"40%",size:"100px"})]})};a(249);var L=function(e){var t=e.onCloseModal,a=e.questions,c=e.onBackToPrev,i=e.countdown,s=Object(n.useState)(),o=Object(O.a)(s,2),r=o[0],l=o[1],d=(Object(n.useRef)(),Object(n.useState)(!1)),u=Object(O.a)(d,2),j=(u[0],u[1],Object(n.useRef)(5)),m=Object(n.useState)(!1),h=Object(O.a)(m,2),f=h[0],v=h[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"count-time",children:[Object(b.jsx)("i",{class:"bi bi-alarm-fill"}),Object(b.jsx)(B,{firstValue:i,onClearTime:t,onBackToPrev:c,onChangeStatusTime:f})]}),Object(b.jsxs)("div",{className:"question-box",children:[Object(b.jsx)("div",{className:"row question-item content-question",children:Object(b.jsxs)("div",{className:"text-question col-10 shadow",children:[a.question,Object(b.jsx)("div",{className:"popup-suggest border","data-bs-toggle":"modal","data-bs-target":"#modalSuggest",children:Object(b.jsx)("i",{class:"bi bi-question"})})]})}),Object(b.jsx)("div",{className:"question-item content-selects",children:a.selects.map((function(e,t){return Object(b.jsx)("div",{"data-bs-toggle":"modal","data-bs-target":5==j.current?"#exampleModal":"",className:"row content-select",children:Object(b.jsx)("div",{className:"text-select col-10 shadow-sm ".concat(r==t?"choose":""," ").concat(j.current==t&&5==r?j.current==(null===a||void 0===a?void 0:a.answer)?"blink-text":"wrong":""),onClick:function(){if(5==j.current){l(t);var e=setTimeout((function(){j.current=t,clearTimeout(e)}),0)}},children:e})},t)}))})]}),Object(b.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsx)("div",{className:"modal-body",children:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n ch\u1ecdn \u0111\xe1p \xe1n n\xe0y?"}),Object(b.jsxs)("div",{className:"modal-footer",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:function(){l(5),j.current=5},children:"H\u1ee7y"}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:function(){v(!0);var e=setTimeout((function(){l(5),clearTimeout(e)}),2e3),n=setTimeout((function(){j.current!=(null===a||void 0===a?void 0:a.answer)?(t("timeover"),c()):t(),clearTimeout(n)}),4e3)},children:"Ch\u1ecdn"})]})]})})}),Object(b.jsx)("div",{className:"modal fade",tabIndex:"-1",id:"modalSuggest","aria-labelledby":"modalSuggest","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsx)("div",{className:"modal-content",children:Object(b.jsxs)("div",{className:"modal-body d-flex align-items-center justify-content-center",style:{minHeight:"100px"},children:["G\u1ee3i \xfd: ",null===a||void 0===a?void 0:a.suggest]})})})})]})},H=a(232),Q=(a(251),a(233)),z=a(234),F=a(11),V=a.n(F),W=function(){function e(){Object(Q.a)(this,e)}return Object(z.a)(e,[{key:"question",value:function(e){fetch("https://api.npoint.io/658232b33eb69c8bddc7").then((function(e){return e.json()})).then((function(t){console.log(t),e(t)}))}}],[{key:"dataMuseum",value:function(e,t){console.log("fect data museum"),fetch("https://hcloud.trealet.com/apps_dev/btl/nhom08/lib/api/api.php?id=".concat(e,"&file")).then((function(e){return e.json()})).then((function(e){return console.log(e),e?(t(e),!0):(t(!1),!1)}))}},{key:"urlItem",value:function(e,t){console.log("fect url item"),fetch("https://hcloud.trealet.com/apps_dev/btl/nhom08/lib/api/api.php?id=".concat(e)).then((function(e){return e.json()})).then((function(e){if(e){var a="https://hcloud.trealet.com"+e.url_full||!1;return t(a),!0}return t(!1),!1}))}}]),e}(),J=a(235),G=a.n(J),X=["children"],U=Object(n.createContext)();function Y(e){var t=e.children,a=Object(f.a)(e,X);return console.log("prop context",a),Object(b.jsx)(U.Provider,{value:Object(h.a)({},a),children:t})}var K=function(e){var t=e.onCloseModal,a=e.questions,c=e.onBackToPrev,i=e.countdown,s=Object(n.useState)(!1),o=Object(O.a)(s,2),r=o[0],l=o[1],d=Object(n.useState)(!1),u=Object(O.a)(d,2),m=u[0],h=u[1],f=Object(n.useContext)(U),v=Object(n.useState)(!1),x=Object(O.a)(v,2),_=x[0],g=x[1];return Object(n.useEffect)((function(){var e=f.imagesCache[a.image_id];l(e.src)}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:{touchAction:"none"},children:[Object(b.jsxs)("div",{className:"count-time",children:[Object(b.jsx)("i",{class:"bi bi-alarm-fill"}),Object(b.jsx)(B,{firstValue:i,onClearTime:t,onBackToPrev:c,onChangeStatusTime:_})]}),m&&Object(b.jsx)(A,{text:"Ho\xe0n th\xe0nh",top:"30%",left:"38%",size:"80px"}),Object(b.jsxs)("div",{className:"question-box",children:[Object(b.jsx)("div",{className:"row question-item content-question",children:Object(b.jsxs)("div",{className:"text-question col-10 shadow",children:[a.desc,Object(b.jsx)("div",{className:"popup-suggest border","data-bs-toggle":"modal","data-bs-target":"#modalSuggestXepHinh",children:Object(b.jsx)("i",{class:"bi bi-question"})})]})}),Object(b.jsx)("div",{className:Object(j.a)("question-item row",G.a["box-xepHinh"]),children:Object(b.jsx)("div",{className:"col-10",style:{margin:"auto",border:"1px solid black",padding:0},children:r&&Object(b.jsx)(H.JigsawPuzzle,{imageSrc:r,rows:2,columns:3,onSolved:function(){h(!0),g(!0);var e=setTimeout((function(){t(),clearTimeout(e)}),1500)}})})})]})]}),Object(b.jsx)("div",{className:"modal fade",tabIndex:"-1",id:"modalSuggestXepHinh","aria-labelledby":"modalSuggestXepHinh","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsx)("div",{className:"modal-content",children:Object(b.jsx)("div",{className:"modal-body d-flex align-items-center justify-content-center",style:{minHeight:"100px"},children:Object(b.jsxs)("div",{className:"d-flex flex-column",children:[Object(b.jsx)("div",{className:"row mt-2",children:Object(b.jsx)("span",{className:"text-center",children:"H\xecnh m\u1eabu"})}),Object(b.jsx)("div",{className:"row",children:r&&Object(b.jsx)("img",{className:"mx-auto",src:r,style:{maxHeight:"50vh"}})})]})})})})})]})},Z=(a(252),a(151));var $=function(e){var t=e.dataToast,a=Object(n.useRef)();return Object(n.useEffect)((function(){console.log("dataToast",t),"success"==t.status&&a.current?a.current.success(t.text):"wrong"==t.status&&a.current&&a.current.error(t.text)}),[t]),Object(b.jsx)(Z.ToastContainer,{ref:a,className:"toast-top-right"})},ee=a(32),te=a.n(ee),ae=a(153),ne=function(){this.arrDeviceCamera=null,this.currentCameraId=null,this.html5QrCode=null,this.callbackCorrect={},console.log("khoi tao scan qr code")};ne.prototype._start=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ae.a.getCameras().then((function(a){console.log(a),a&&a.length&&(e.arrDeviceCamera=a,console.log("ok camera"),t())})).catch((function(e){alert("Ng\u01b0\u1eddi d\xf9ng kh\xf4ng c\u1ea5p quy\u1ec1n truy c\u1eadp")}))},ne.prototype._changeCamera=function(){var e=this;if(console.log("change"),this.arrDeviceCamera&&this.arrDeviceCamera.length>=2){var t=this.arrDeviceCamera.findIndex((function(t){return t.id==e.currentCameraId}));console.log(t);var a=this.arrDeviceCamera[(t+1)%this.arrDeviceCamera.length].id;this.html5QrCode.stop().then((function(t){e._displayCamera(a)})).catch((function(e){}))}},ne.prototype._displayCamera=function(e){var t=this,a=new ae.a("reader");this.html5QrCode=a,this.currentCameraId=e;var n="";a.start(e,{fps:10,qrbox:250},(function(e,a){console.log("decodedText",e),t.callbackCorrect({decodedText:e,tempTextRes:n}),n=e}),(function(e){})).then((function(e){console.log("sau khoi tao camera"),document.querySelector(".".concat(te.a["control-camera"])).style.display="flex"})).catch((function(e){console.log("loi khoi tao camera")}))},ne.prototype._checkIn=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("check in"),this._start((function(){e.callbackCorrect=function(e){e.tempTextRes!=e.decodedText&&(console.log("ok",Number.isInteger(parseInt(e.decodedText))),Number.isInteger(parseInt(e.decodedText))?W.dataMuseum(e.decodedText,(function(e){console.log(e),t(e)})):t(!1))},e.arrDeviceCamera&&e._displayCamera(e.arrDeviceCamera[0].id)}))},ne.prototype.question=function(e,t){var a=this,n=t.cbCorrect,c=void 0===n?{}:n,i=t.cbWrong,s=void 0===i?{}:i;console.log("scan dap an queston");var o=(new Date).getTime();this._start((function(){a.callbackCorrect=function(t){if(t.tempTextRes!=t.decodedText&&e===t.decodedText)console.log("dap an chinh xac"),c("right");else if(e!==t.decodedText){(new Date).getTime()-o>5e3&&(s(),console.log(o),o=(new Date).getTime())}},a.arrDeviceCamera&&a._displayCamera(a.arrDeviceCamera[0].id)}))},ne.prototype._stopCamera=function(){this.html5QrCode.stop().then((function(e){console.log("stop camera")})).catch((function(e){}))};var ce=ne;var ie=function(e){var t=Object.assign({},e),a=Object(o.f)(),c=t.questions,i=t.onClearTime,s=(t.onBackToPrev,Object(n.useState)(!1)),r=Object(O.a)(s,2),l=r[0],d=r[1],u=Object(n.useState)({}),m=Object(O.a)(u,2),h=m[0],f=m[1],v=Object(n.useState)(!1),x=Object(O.a)(v,2),_=x[0],g=x[1],p=Object(n.useMemo)((function(){return console.log("khoi tao"),new ce}),[]);return Object(n.useEffect)((function(){return console.log("props",t),console.log("question scan",c),function(){return p._stopCamera()}}),[]),Object(n.useEffect)((function(){c?p.question(c.correct_answer,{cbCorrect:function(){console.log("dap an chinh xac"),f({status:"success",text:"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 t\xecm \u0111\xfang \u0111\u1ecba \u0111i\u1ec3m"}),d(!0),setTimeout((function(){d(!1),i()}),2e3)},cbWrong:function(){console.log("dap an sai"),f({status:"wrong",text:"\u0110\u1ecba \u0111i\u1ec3m hi\u1ec7n t\u1ea1i kh\xf4ng ch\xednh x\xe1c",hash:new Date}),d(!0);var e=setTimeout((function(){d(!1),clearTimeout(e)}),2e3)}}):p._checkIn((function(e){if(e){f({status:"success",text:"Check in \u0111\u1ecba \u0111i\u1ec3m th\xe0nh c\xf4ng"}),g(!0);var t=JSON.stringify(e);sessionStorage.setItem("dataMap",t),setTimeout((function(){g(!1),a("/map")}),2e3)}else f({status:"wrong",text:"\u0110\u1ecba \u0111i\u1ec3m n\xe0y kh\xf4ng t\u1ed3n t\u1ea1i"}),g(!0),setTimeout((function(){g(!1)}),2e3)}))}),[]),Object(b.jsxs)(b.Fragment,{children:[_?Object(b.jsx)($,{dataToast:h}):Object(b.jsx)(b.Fragment,{}),Object(b.jsxs)("div",{className:Object(j.a)(te.a.camera),children:[Object(b.jsx)("div",{className:Object(j.a)("row"),children:Object(b.jsx)("div",{className:Object(j.a)("col",te.a["view-camera"]),children:Object(b.jsx)("div",{className:Object(j.a)("w-100"),id:"reader"})})}),Object(b.jsxs)("div",{className:Object(j.a)("row","flex-grow-1",te.a["control-camera"]),children:[Object(b.jsx)("div",{className:Object(j.a)("text-center","col-6",te.a["item-control-camera"]),children:Object(b.jsx)("i",{className:Object(j.a)("bi","bi-brightness-high")})}),Object(b.jsxs)("div",{className:Object(j.a)("text-center","col-6",te.a["item-control-camera"],te.a["switch-camera"]),children:[Object(b.jsx)("i",{onClick:function(){p._changeCamera()},className:Object(j.a)("bi","bi-camera")}),l?Object(b.jsx)($,{dataToast:h}):Object(b.jsx)(b.Fragment,{})]}),Object(b.jsx)("div",{className:"modal fade",tabIndex:"-1",id:"modalSuggest","aria-labelledby":"modalSuggest","aria-hidden":"true",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsx)("div",{className:"modal-content",children:Object(b.jsxs)("div",{className:"modal-body d-flex align-items-center justify-content-center",style:{minHeight:"100px"},children:["G\u1ee3i \xfd: ",null===c||void 0===c?void 0:c.suggest]})})})})]})]})]})},se=(a(451),["onCloseModal","questions","onBackToPrev","countdown"]);var oe=function(e){var t=e.onCloseModal,a=e.questions,n=e.onBackToPrev,c=e.countdown,i=(Object(f.a)(e,se),{propsHeader:{RemoveHQ:!0},body:Object(b.jsx)(ie,{questions:a})});return Object(b.jsxs)(b.Fragment,{children:[a&&Object(b.jsx)(ie,{questions:a,onClearTime:t,onBackToPrev:n}),a&&Object(b.jsxs)("div",{style:{position:"absolute",top:0,right:0,color:"white"},children:[Object(b.jsx)(B,{firstValue:c,onClearTime:t,onBackToPrev:n}),Object(b.jsx)("div",{className:"popup-suggest_scan border","data-bs-toggle":"modal","data-bs-target":"#modalSuggest",children:Object(b.jsx)("i",{className:"bi bi-question"})})]}),!a&&Object(b.jsx)(k,Object(h.a)({},i))]})};var re=function(e){var t=e.questions,a=e.onCloseModal,c=e.onBackToPrev,i=JSON.parse(sessionStorage.getItem("arrIndexQuestion")),s=i[Math.floor(Math.random()*i.length)],o=t[s];i=i.filter((function(e){return e!==s})),sessionStorage.setItem("arrIndexQuestion","[".concat(i.toString(),"]")),console.log("set lai index");var r=Object(C.useGlobalState)("elMain");return Object(O.a)(r,1)[0],Object(n.useEffect)((function(){console.log("scroll top")}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:Object(j.a)(D.a["main-question"]),children:Object(b.jsx)("div",{className:Object(j.a)(D.a["body-question"],"container-sm"),children:function(){var e=60,t=120,n=180,i={onCloseModal:a,questions:o,onBackToPrev:c};switch(console.log("question",o),o.type){case"trac_nghiem":return Object(b.jsx)(L,Object(h.a)(Object(h.a)({},i),{},{countdown:e}));case"xep_hinh":return Object(b.jsx)(K,Object(h.a)(Object(h.a)({},i),{},{countdown:t}));case"scan":return Object(b.jsx)(oe,Object(h.a)(Object(h.a)({},i),{},{countdown:n}));default:return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("h2",{children:"loi"})})}}()})})})};var le=function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(k,{body:Object(b.jsx)(re,{})})})};var de=a(18),ue=a.n(de),je=a(41),be=a(42),me=a(21);a(219),a(452);var he=function(e){var t=e.status,a=e.randomAngle,c=e.isDice,i=Object(n.useState)(""),s=Object(O.a)(i,2),o=s[0],r=s[1];return Object(n.useEffect)((function(){c&&function(e){var t=setTimeout((function(){r(1==e?"show-1":2==e?"show-6":3==e?"show-4":4==e?"show-5":5==e?"show-2":"show-3"),clearTimeout(t)}),1e3)}(a)}),[t]),Object(b.jsx)("div",{className:"game",style:{zIndex:2e4,position:"fixed",left:"38%"},children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{id:"dice1",className:"dice dice-one ".concat(o),children:[Object(b.jsx)("div",{id:"dice-one-side-one",className:"side one",children:Object(b.jsx)("div",{className:"dot one-1"})}),Object(b.jsxs)("div",{id:"dice-one-side-two",className:"side two",children:[Object(b.jsx)("div",{className:"dot two-1"}),Object(b.jsx)("div",{className:"dot two-2"})]}),Object(b.jsxs)("div",{id:"dice-one-side-three",className:"side three",children:[Object(b.jsx)("div",{className:"dot three-1"}),Object(b.jsx)("div",{className:"dot three-2"}),Object(b.jsx)("div",{className:"dot three-3"})]}),Object(b.jsxs)("div",{id:"dice-one-side-four",className:"side four",children:[Object(b.jsx)("div",{className:"dot four-1"}),Object(b.jsx)("div",{className:"dot four-2"}),Object(b.jsx)("div",{className:"dot four-3"}),Object(b.jsx)("div",{className:"dot four-4"})]}),Object(b.jsxs)("div",{id:"dice-one-side-five",className:"side five",children:[Object(b.jsx)("div",{className:"dot five-1"}),Object(b.jsx)("div",{className:"dot five-2"}),Object(b.jsx)("div",{className:"dot five-3"}),Object(b.jsx)("div",{className:"dot five-4"}),Object(b.jsx)("div",{className:"dot five-5"})]}),Object(b.jsxs)("div",{id:"dice-one-side-six",className:"side six",children:[Object(b.jsx)("div",{className:"dot six-1"}),Object(b.jsx)("div",{className:"dot six-2"}),Object(b.jsx)("div",{className:"dot six-3"}),Object(b.jsx)("div",{className:"dot six-4"}),Object(b.jsx)("div",{className:"dot six-5"}),Object(b.jsx)("div",{className:"dot six-6"})]})]})})})},Oe=(a(453),function(e){e.canvasRef;var t=e.currentPoint,a=e.map,c=e.setIsCrtMoving,i=e.dataCrtMove,s=e.actionDataCrtMove,o=Object(n.useState)(Object(me.a)(a[t].split("-"))),r=Object(O.a)(o,2),l=r[0],d=(r[1],Object(n.useState)(t)),u=Object(O.a)(d,2),m=u[0],h=u[1],f=Object(n.useState)(t),v=Object(O.a)(f,2),x=(v[0],v[1],Object(n.useState)((function(){return(window.innerWidth<=576?window.innerWidth:576)/10}))),_=Object(O.a)(x,2),g=_[0],p=_[1],w=Object(n.useRef)(),y=Object(n.useState)(!1),N=Object(O.a)(y,2),T=N[0],C=N[1],S=Object(n.useState)("face-up"),k=Object(O.a)(S,2),I=k[0],E=k[1],M=Object(n.useState)(null),R=Object(O.a)(M,2),P=(R[0],R[1],Object(n.useState)(null)),q=Object(O.a)(P,2),D=q[0],A=(q[1],function(e,t){return e[0]==t[0]?e[1]>t[1]?fe:xe:e[0]>t[0]?_e:ve}),B=function(e){new Promise((function(e){e()})).then((function(){C(!0),c(!0),console.log("currentPoint1 robot",e),console.warn("animation crt start");var t=[];if(console.log("point",{oldPoint:m,currentPoint1:e}),m<e){for(var n=m;n<e;n++){var i=Object(me.a)(a[n].split("-")),s=Object(me.a)(a[n+1].split("-"));console.log(i,s),t.push(A(i,s))}return[].concat(t)}for(var o=m;o>e;o--){var r=Object(me.a)(a[o].split("-")),l=Object(me.a)(a[o-1].split("-"));t.push(A(r,l))}return[].concat(t)})).then((function(t){console.log(t);var a=ge/t.length,n=document.getElementById("character-container");console.log(D),D&&(D.timeScale=t.length);var i=function(){var i=Object(je.a)(ue.a.mark((function i(){var o,r;return ue.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=ue.a.mark((function e(c){var i,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(t[c]),i=a/g,console.log("frame: ",i),s=function(){var e=Object(je.a)(ue.a.mark((function e(){var s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<a)){e.next=8;break}return e.next=4,z(i);case 4:Q(t[c],n),s+=i,e.next=1;break;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=6,s();case 6:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<t.length)){i.next=7;break}return i.delegateYield(o(r),"t0",4);case 4:r++,i.next=2;break;case 7:setTimeout((function(){h(e),c(!1),s({type:"NEXT_STEP"}),C(!1)}),200),console.warn("animation crt end");case 9:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();i()}))};function L(e){var t=e.split("px")[0];return t--,"".concat(t,"px")}function H(e){var t=e.split("px")[0];return t++,"".concat(t,"px")}Object(n.useEffect)((function(){"CRT_MOVING"===i.status&&null!=i.nextPoint&&(console.log("nextPoint",i.nextPoint),B(i.nextPoint))}),[i&&"CRT_MOVING"===i.status]),Object(n.useEffect)((function(){!1===T&&null!=i.nextPoint&&"NEXT_STEP"===i.status?(console.log("chay 2 lan"),B(i.nextPoint)):!1===T&&null===i.nextPoint&&"NEXT_STEP"===i.status&&s({type:"CRT_STOP_MOVING"})}),[T,i]);var Q=function(e,t){switch(e){case ve:t.style.left=H(t.style.left);break;case xe:t.style.top=H(t.style.top);break;case _e:t.style.left=L(t.style.left);break;default:t.style.top=L(t.style.top)}};function z(e){return new Promise((function(t){setTimeout((function(){t(2)}),e)}))}var F=function(e){switch(e){case ve:return void E("face-right");case _e:return void E("face-left");case xe:return void E("face-down");default:E("face-up")}};return Object(n.useEffect)((function(){return window.addEventListener("resize",(function(){window.innerWidth<=576&&p(window.innerWidth/10)})),function(){window.removeEventListener("resize",(function(){window.innerWidth<=576&&p(window.innerWidth/10)}))}}),[]),Object(n.useEffect)((function(){var e=document.getElementById("character-container");console.log(g);var t=g/32;document.documentElement.style.setProperty("--pixel-size","".concat(t)),e.style.top="".concat(g*l[1]-g,"px"),e.style.left="".concat(g*l[0]-g/2,"px")}),[g]),Object(b.jsx)("div",{id:"character-container",children:Object(b.jsxs)("div",{className:"Character",children:[Object(b.jsx)("img",{className:"Character_shadow pixelart",src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/21542/DemoRpgCharacterShadow.png",alt:"Shadow"}),Object(b.jsx)("img",{className:Object(j.a)("Character_spritesheet",I,{animation_crt:T}),ref:w,src:"".concat(".","/assets/images/sprite-sheet.png"),alt:"Character"})]})})}),fe=0,ve=1,xe=2,_e=3,ge=2e3;var pe=function(e,t){return function(e){if(V.a.isEmpty(e))return[];var a=function(e){var a=e.filter((function(e){return e.split("-")[1]==t-1}));return e.includes(a[0].split("-")[0]+"-"+(a[0].split("-")[1]-1))?a[V.a.size(a)-1]:a[0]}(e),n=[a];for(V.a.remove(e,(function(e){return e==n[0]}));0!=V.a.size(e);)for(var c=function(t){var a,c,i,s;n[V.a.size(n)-1]!=e[t]&&(a=n[V.a.size(n)-1].split("-")[0],c=n[V.a.size(n)-1].split("-")[1],i=e[t].split("-")[0],s=e[t].split("-")[1],Math.pow(a-i,2)+Math.pow(c-s,2)==1&&(n=[].concat(Object(me.a)(n),[e[t]]),V.a.remove(e,(function(a){return a==e[t]}))))},i=0;i<V.a.size(e);++i)c(i);return n}(e)},we=["questions"];function ye(){return ye=Object(je.a)(ue.a.mark((function e(t,a){var n,c,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.questions,Object(f.a)(t,we),c=function(e){var t=e.url,a=e.imageId;return new Promise((function(e,n){var c=new Image;c.onload=function(){return e(Object(p.a)({},a,c))},c.onerror=function(){return n(new Error("load ".concat(t," fail")))},c.src=t}))},i=function(){var e=Object(je.a)(ue.a.mark((function e(){var t,i;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.filter((function(e){return"xep_hinh"===e.type&&e.image_id})),[],i=t.map((function(e){return new Promise((function(t,a){W.urlItem(e.image_id,(function(a){return t({url:a,imageId:e.image_id})}))}))})),console.log("promisesUrlImage Before",i),Promise.all(i).then((function(e){var t,n=[],i=Object(be.a)(e);try{for(i.s();!(t=i.n()).done;){var s=t.value;n.push(c({url:s.url,imageId:s.imageId}))}}catch(o){i.e(o)}finally{i.f()}Promise.all(n).then((function(e){var t,n={},c=Object(be.a)(e);try{for(c.s();!(t=c.n()).done;){var i=t.value;n=Object(h.a)(Object(h.a)({},n),i)}}catch(o){c.e(o)}finally{c.f()}a(n)}))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i();case 4:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}var Ne=function(e,t){return ye.apply(this,arguments)};var Te=function(e){e.onSetSesTotal;var t=Object(n.useState)(0),a=Object(O.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){var e=setInterval((function(){i((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}),[]),Object(n.useEffect)((function(){return function(){sessionStorage.setItem("totalTime",c)}}),[c]),Object(b.jsx)("div",{style:{position:"fixed",zIndex:2e3},children:function(e){var t=e%60>=10?e%60:"0".concat(e%60),a=Math.floor(e/60)>=10?Math.floor(e/60):"0".concat(Math.floor(e/60));return"".concat(a,":").concat(t)}(c)})};var Ce=function(e){var t=e.img,a=e.keys,c=Object(n.useRef)();return console.log("key",a),Object(n.useEffect)((function(){if(a){var e=c.current.getContext("2d");e.clearRect(0,0,c.current.width,c.current.height);var n=Number(a.split("-")[0]),i=Number(a.split("-")[1]);e.drawImage(t,32*n,32*i,32,32,0,0,32,32)}}),[a]),Object(b.jsx)("canvas",{ref:c,width:32,height:32})},Se=["itemModal","srcImage","setTypeModal"];var ke=function(e){var t=e.itemModal,a=e.srcImage,n=e.setTypeModal;return Object(f.a)(e,Se),console.log(t),Object(b.jsx)("div",{className:"modal_map_intro container-sm border",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-sm-12",children:Object(b.jsx)("i",{className:"bi bi-x-circle",style:{float:"right"},onClick:function(){n(!1)}})}),Object(b.jsx)("div",{className:"col-sm-12",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-sm-3",style:{margin:"auto",fontSize:"18px !important",color:"#c66666"},children:Object(b.jsx)("span",{className:"text_modal_map",style:{fontSize:"20px"},children:"M\xf4 t\u1ea3"})}),Object(b.jsx)("div",{className:"col-sm-11",style:{margin:"auto"},children:Object(b.jsx)("span",{className:"text_modal_map",children:"\u0110\xe2y l\xe0 b\u1ea3n \u0111\u1ed3 d\u1eabn t\u1edbi kho b\xe1u R\u1ed3ng. C\xf3 r\u1ea5t nhi\u1ec1u ch\u01b0\u1edbng ng\u1ea1i v\u1eadt, th\u1eed th\xe1ch kh\xf3 kh\u0103n tr\xean \u0111\u01b0\u1eddng \u0111i t\xecm kho b\xe1u. M\u1ed9t s\u1ed1 ch\u01b0\u1edbng ng\u1ea1i v\u1eadt c\xf3 th\u1ec3 c\u1ea3n tr\u1edf b\u1ea1n ho\u1eb7c c\xf3 th\u1ec3 gi\xfap b\u1ea1n \u0111\u1ebfn kho b\xe1u nhanh h\u01a1n. D\u01b0\u1edbi \u0111\xe2y l\xe0 m\u1ed9t v\xe0i ch\xfa th\xedch:"})})]})}),Object(b.jsx)("div",{className:"col-sm-12 border_map_modal animate__zoomInDown animate__animated",style:{marginTop:"20px"},children:Object(b.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[Object(b.jsx)("div",{className:"col-sm-1",children:Object(b.jsx)("img",{src:"./assets/images/khobau.png",style:{width:"32px",height:"32px"}})}),Object(b.jsx)("div",{className:"col-sm-11",children:Object(b.jsx)("span",{className:"text_modal_map",children:"\u0110\xe2y ch\xednh l\xe0 kho b\xe1u R\u1ed3ng. N\u1ebfu l\u1ea5y \u0111\u01b0\u1ee3c n\xf3 b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c ban th\u01b0\u1edfng m\u1ed9t ph\u1ea7n th\u01b0\u1edfng"})})]})}),Object(b.jsx)("div",{className:"col-sm-12 border_map_modal animate__zoomInDown animate__animated",children:Object(b.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[Object(b.jsx)("div",{className:"col-sm-1",children:Object(b.jsx)("img",{src:"./assets/images/dice.png",style:{width:"32px",height:"32px"}})}),Object(b.jsx)("div",{className:"col-sm-11",children:Object(b.jsx)("span",{className:"text_modal_map",children:"\u1ea4n v\xe0o \u0111\xe2y \u0111\u1ec3 c\xf3 th\u1ec3 di chuy\u1ec3n "})})]})}),Object(b.jsx)("div",{className:"col-sm-12 border_map_modal animate__zoomInDown animate__animated",children:Object(b.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[Object(b.jsx)("div",{className:"col-sm-1",children:Object(b.jsx)("img",{src:"./assets/images/heart.png",style:{width:"32px",height:"32px"}})}),Object(b.jsx)("div",{className:"col-sm-11",children:Object(b.jsx)("span",{className:"text_modal_map",children:"S\u1ed1 l\u01b0\u1ee3t ch\u01a1i c\u1ee7a b\u1ea1n l\xe0 gi\u1edbi h\u1ea1n n\xean h\xe3y th\u1eadn tr\u1ecdng v\u1edbi nh\u1eefng c\xe2u h\u1ecfi. N\xf3 s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb t\u1ea1i g\xf3c tr\xean c\xf9ng b\xean ph\u1ea3i c\u1ee7a m\xe0n h\xecnh"})})]})}),Object(b.jsx)("div",{className:"col-sm-12 border_map_modal animate__zoomInDown animate__animated",children:Object(b.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[Object(b.jsx)("div",{className:"col-sm-1",children:Object(b.jsx)("img",{src:"./assets/images/time.png",style:{width:"32px",height:"32px"}})}),Object(b.jsx)("div",{className:"col-sm-11",children:Object(b.jsx)("span",{className:"text_modal_map",children:"T\u1ea1i g\xf3c tr\xean c\xf9ng b\xean tr\xe1i m\xe0n h\xecnh. \u0110\xe2y l\xe0 n\u01a1i hi\u1ec3n th\u1ecb t\u1ed5ng th\u1eddi gian t\u1eeb ban \u0111\u1ea7u cho t\u1edbi khi b\u1ea1n t\xecm \u0111\u01b0\u1ee3c kho b\xe1u."})})]})}),t.map((function(e){return(null===e||void 0===e?void 0:e.effect.includes("back_forward"))?e.des="\u0110\xe2y l\xe0 .....Khi b\u01b0\u1edbc v\xe0o \u0111\xe2y b\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c ti\u1ebfn th\xeam m\u1ed9t s\u1ed1 \xf4 nh\u1ea5t \u0111\u1ecbnh":(null===e||void 0===e?void 0:e.effect.includes("forward"))?e.des="Khi b\u01b0\u1edbc v\xe0o \u0111\xe2y b\u1ea1n s\u1ebd ph\u1ea3i l\xf9i v\u1ec1 sau":(null===e||void 0===e?void 0:e.effect.includes("tele"))&&(e.des="C\u1ed5ng kh\xf4ng gian, b\u1ea1n s\u1ebd b\u1ecb d\u1ecbch chuy\u1ec3n t\u1edbi m\u1ed9t n\u01a1i b\u1ea5t k\xec n\xe0o \u0111\xf3 trong b\u1ea3n \u0111\u1ed3 khi b\u01b0\u1edbc v\xe0o n\xf3."),Object(b.jsx)("div",{className:"col-sm-12 border_map_modal animate__zoomInDown animate__animated",children:Object(b.jsxs)("div",{className:"row",style:{alignItems:"center"},children:[Object(b.jsx)("div",{className:"col-sm-1",children:Object(b.jsx)(Ce,{keys:null===e||void 0===e?void 0:e.td,img:a[(null===e||void 0===e?void 0:e.tilesetIdx)||0]})}),Object(b.jsx)("div",{className:"col-sm-11",children:Object(b.jsx)("span",{className:"text_modal_map",children:null===e||void 0===e?void 0:e.des})})]})})}))]})})},Ie=a(2),Ee=a.n(Ie);var Me=function(e){var t=Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:Object(j.a)(Ee.a.face,Ee.a.top)}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.face,Ee.a.left)}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.face,Ee.a.right)})]}),a=Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:Object(j.a)(Ee.a.textLoading,Ee.a.loadingText05),children:[Object(b.jsx)("span",{className:Ee.a.crtLoading,children:"L"}),Object(b.jsx)("span",{className:Ee.a.crtLoading,children:"O"}),Object(b.jsx)("span",{className:Ee.a.crtLoading,children:"A"}),Object(b.jsx)("span",{className:Ee.a.crtLoading,children:"D"}),Object(b.jsx)("span",{className:Ee.a.crtLoading,children:"I"}),Object(b.jsx)("span",{className:Ee.a.crtLoading,children:"N"}),Object(b.jsx)("span",{className:Ee.a.crtLoading,children:"G"})]})});return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:Object(j.a)(Ee.a.loading),children:[Object(b.jsx)("div",{className:Object(j.a)(Ee.a.background)}),Object(b.jsxs)("div",{className:Object(j.a)(Ee.a.container),children:[Object(b.jsxs)("div",{className:Object(j.a)(Ee.a.h1Container),children:[Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h1,Ee.a.w1,Ee.a.l1,Ee.a.cube,Ee.a.h1,Ee.a.w1,Ee.a.l1),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h1,Ee.a.w1,Ee.a.l2),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h1,Ee.a.w1,Ee.a.l3),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h1,Ee.a.w2,Ee.a.l1),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h1,Ee.a.w2,Ee.a.l2),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h1,Ee.a.w2,Ee.a.l3),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h1,Ee.a.w3,Ee.a.l1),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h1,Ee.a.w3,Ee.a.l2),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h1,Ee.a.w3,Ee.a.l3),children:t})]}),Object(b.jsxs)("div",{className:Object(j.a)(Ee.a.h2Container),children:[Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h2,Ee.a.w1,Ee.a.l1),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h2,Ee.a.w1,Ee.a.l2),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h2,Ee.a.w1,Ee.a.l3),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h2,Ee.a.w2,Ee.a.l1),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h2,Ee.a.w2,Ee.a.l2),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h2,Ee.a.w2,Ee.a.l3),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h2,Ee.a.w3,Ee.a.l1),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h2,Ee.a.w3,Ee.a.l2),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.cube,Ee.a.h2,Ee.a.w3,Ee.a.l3),children:t})]}),Object(b.jsxs)("div",{className:Object(j.a)(Ee.a.h3Container),children:[Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h3,Ee.a.w1,Ee.a.l1),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h3,Ee.a.w1,Ee.a.l2),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h3,Ee.a.w1,Ee.a.l3),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h3,Ee.a.w2,Ee.a.l1),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h3,Ee.a.w2,Ee.a.l2),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h3,Ee.a.w2,Ee.a.l3),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h3,Ee.a.w3,Ee.a.l1),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h3,Ee.a.w3,Ee.a.l2),children:t}),Object(b.jsx)("div",{className:Object(j.a)(Ee.a.cube,Ee.a.h3,Ee.a.w3,Ee.a.l3),children:t})]})]}),a]})})};var Re=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){return t.current.classList.add("animate__fadeIn"),function(){var e,a;null===(e=t.current)||void 0===e||e.classList.remove("animate__fadeIn"),null===(a=t.current)||void 0===a||a.classList.add("animate__fadeOut")}}),[]),Object(b.jsx)("div",{ref:t,children:Object(b.jsx)(k,{headerBody:Object(b.jsx)(Me,{})})})},Pe=["layers"];var qe=function(e){Object(n.useRef)();var t=Object(n.useRef)(),a=Object(n.useState)({}),c=Object(O.a)(a,2),i=c[0],s=c[1],r=Object(n.useState)([]),l=Object(O.a)(r,2),d=l[0],u=l[1],m=Object(n.useState)(!1),v=Object(O.a)(m,2),x=v[0],_=v[1],g=Object(n.useRef)(0),w=Object(n.useRef)(),y=Object(n.useState)(!1),N=Object(O.a)(y,2),T=N[0],C=N[1],S=Object(n.useState)(!1),I=Object(O.a)(S,2),E=I[0],M=I[1],R=Object(n.useState)(!0),P=Object(O.a)(R,2),q=P[0],D=P[1],B=Object(o.f)(),L=Object(n.useRef)([]),H=Object(n.useRef)(),Q=Object(n.useState)({}),z=Object(O.a)(Q,2),W=z[0],J=z[1],G=Object(n.useState)(!1),X=Object(O.a)(G,2),U=X[0],K=X[1],Z=(Object(n.useRef)([]),Object(n.useState)(!1)),$=Object(O.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useRef)([]),ne=Object(n.useRef)(!0),ce=Object(n.useRef)(),ie=Object(n.useState)({}),se=Object(O.a)(ie,2),oe=(se[0],se[1]),le=Object(n.useState)([]),de=Object(O.a)(le,2),fe=de[0],ve=de[1],xe=Object(n.useState)([]),_e=Object(O.a)(xe,2),ge=_e[0],we=_e[1],ye=Object(n.useRef)({}),Ce=Object(n.useState)({}),Se=Object(O.a)(Ce,2),Ie=(Se[0],Se[1],Object(n.useReducer)((function(e,t){switch(t.type){case"INIT_MAP":var a,n={},c=t.currentMap,i=c.layers,s=Object(f.a)(c,Pe),o=Object(be.a)(i);try{for(o.s();!(a=o.n()).done;){var r=a.value;n[r.name]=r.tiles}}catch(d){o.e(d)}finally{o.f()}return console.log("Layers",i),function(){var e=function(e){return new Promise((function(t,a){var n=new Image;n.onload=function(){return t(n)},n.onerror=function(){return a(new Error("load ".concat(e," fail")))},n.src=e}))},t=function(){var t=Object(je.a)(ue.a.mark((function t(){var a;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=fe.map((function(t){return e(t)})),Promise.all(a).then((function(e){we(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}(),console.log("khoi tao map"),Object(h.a)(Object(h.a)(Object(h.a)({},e),{},{layers:n},s),{},{status:t.type});case"UPDATE_LAYER_CHARACTER":var l=Object(h.a)(Object(h.a)({},e.layers),{},{charater:t.newLayerCharacter});return Object(h.a)(Object(h.a)({},e),{},{layers:l,status:t.type});default:throw new Error}}),{})),Ee=Object(O.a)(Ie,2),Me=Ee[0],qe=Ee[1],De=Object(n.useReducer)((function(e,t){switch(t.type){case"INIT_DATA_CRT":return Object(h.a)(Object(h.a)({},e),{},{status:"INIT_DATA_CRT",arrStep:[],nextPoint:0,prePoint:0});case"ADD_STEP_MOVE":return Object(h.a)(Object(h.a)({},e),{},{status:"ADD_STEP_MOVE",arrStep:[].concat(Object(me.a)(e.arrStep),[t.point])});case"FINISH_ADD_STEP":return Object(h.a)(Object(h.a)({},e),{},{status:t.type});case"NEXT_STEP":case"CRT_MOVING":var a,n=null!==e.nextPoint?e.prePoint:e.nextPoint;return V.a.isEmpty(e.arrStep)?(console.log("mang rong"),a=null):a=e.arrStep.shift(),Object(h.a)(Object(h.a)({},e),{},{nextPoint:a,prePoint:n,status:t.type});case"CRT_STOP_MOVING":return console.warn("crt stop"),Object(h.a)(Object(h.a)({},e),{},{status:t.type});default:throw new Error}}),{}),Ae=Object(O.a)(De,2),Be=Ae[0],Le=Ae[1],He=Object(n.useRef)(),Qe=Object(n.useRef)([]),ze=Object(n.useState)(!1),Fe=Object(O.a)(ze,2),Ve=Fe[0],We=Fe[1],Je=Object(n.useRef)([]),Ge=Object(n.useMemo)((function(){if(!V.a.isEmpty(d)&&!V.a.isEmpty(Me)){var e,t=d.reduce((function(e,t){if(Me.layers["item-road"][t]){var a,n,c=(null===(a=Me.layers["item-road"][t])||void 0===a?void 0:a.x)+"-"+(null===(n=Me.layers["item-road"][t])||void 0===n?void 0:n.y);return e[c]=[].concat(Object(me.a)(e[c]||[]),[t]),e}return e}),{}),a=Object(be.a)(i.define_item_map);try{var n=function(){var t=e.value,a=Object.entries(i.tileSets[t.tilesetIdx].tileData).filter((function(e){return t.tileSymbol==e[1].tileSymbol})),n=Object(h.a)(Object(h.a)({},t),{},{td:a[0][0]});Qe.current=[].concat(Object(me.a)(Qe.current||[]),[n])};for(a.s();!(e=a.n()).done;)n()}catch(c){a.e(c)}finally{a.f()}return console.log(" itemModal.current",Qe.current),t}}),[d]),Xe=function(e){if(V.a.isEmpty(Me.layers["item-road"][e]))return!1;var t=ae.current.reduce((function(t,a){var n;return(null===a||void 0===a?void 0:a.tileSymbol)==(null===(n=Me.layers["item-road"][e])||void 0===n?void 0:n.tileSymbol)?a:t}),{});if("back_forward"==(null===t||void 0===t?void 0:t.effect.split(" ")[0]))return ce.current="forward",-Number(null===t||void 0===t?void 0:t.effect.split(" ")[1]);if("forward"==(null===t||void 0===t?void 0:t.effect.split(" ")[0]))return ce.current="forward",Number(null===t||void 0===t?void 0:t.effect.split(" ")[1]);if("tele"==(null===t||void 0===t?void 0:t.effect.split(" ")[0])){var a,n;ce.current="tele";var c=Number(null===t||void 0===t?void 0:t.effect.split(" ")[1]),i=(null===(a=Me.layers["item-road"][e])||void 0===a?void 0:a.x)+"-"+(null===(n=Me.layers["item-road"][e])||void 0===n?void 0:n.y),s=Ge[i].indexOf(e);return s+c>V.a.size(Ge[i])-1?d.indexOf(Ge[i][V.a.size(Ge[i])-1])-g.current:s+c<0?d.indexOf(Ge[i][0])-g.current:d.indexOf(Ge[i][s+c])-g.current}return!1},Ue=function e(t,a){if(!1!==Xe(d[g.current])){var n,c=Xe(d[g.current]);Je.current=[].concat(Object(me.a)(Je.current),[g.current+c]),Le({type:"ADD_STEP_MOVE",point:g.current+c,hi:"handleValidateMove"}),g.current=g.current+c;var i=Object.values(Me.layers.charater),s=d[g.current],o=(n={},Object(p.a)(n,"".concat(s.split("-")[0],"-").concat(s.split("-")[1]-1),i[0]),Object(p.a)(n,s,i[1]),n),r=setTimeout((function(){ne.current=!0,"forward"==ce.current?(console.log("ao that day",c),K(c<0?"L\xf9i":"Ti\u1ebfn")):"tele"==ce.current&&K("D\u1ecbch chuy\u1ec3n");var t=setTimeout((function(){qe({type:"UPDATE_LAYER_CHARACTER",newLayerCharacter:o}),K(!1),"forward"==ce.current&&e(1e3,!1),clearTimeout(t),clearTimeout(r)}),1e3)}),t)}else{if(a)var l=setTimeout((function(){M(!0),clearTimeout(l)}),400);Le({type:"CRT_MOVING"})}},Ye=function(){if(W.quantityWrongCur+1>=W.maxWrong)B("/lose");else{var e;J((function(e){return Object(h.a)(Object(h.a)({},e),{},{quantityWrongCur:e.quantityWrongCur+1})}));var t=d[H.current>V.a.size(d)-1?V.a.size(d)-1:H.current];console.log("previousStep.current",H.current),Le({type:"ADD_STEP_MOVE",point:H.current,hi:"backToPreviousStep"}),g.current=H.current;var a=Object.values(Me.layers.charater),n=(e={},Object(p.a)(e,"".concat(t.split("-")[0],"-").concat(t.split("-")[1]-1),a[0]),Object(p.a)(e,t,a[1]),e),c=setTimeout((function(){K("Tr\u1eeb 1 m\u1ea1ng");var e=setTimeout((function(){qe({type:"UPDATE_LAYER_CHARACTER",newLayerCharacter:n}),Le({type:"CRT_MOVING"}),K(!1),clearTimeout(e)}),1e3);ne.current=!0,clearTimeout(c)}),1e3)}};function Ke(e,t,a){console.log("ve "+t);var n=e.getContext("2d");n.clearRect(0,0,e.width,e.height);var c=Me.layers[t];for(var i in c){var s,o,r=Number(i.split("-")[0]),l=Number(i.split("-")[1]),d=null===(s=c[i])||void 0===s?void 0:s.x,u=null===(o=c[i])||void 0===o?void 0:o.y;n.drawImage(a[c[i].tilesetIdx],32*d,32*u,32,32,32*r,32*l,32,32)}}Object(n.useEffect)((function(){D(!0),new Promise((function(e){e()})).then((function(){var e=sessionStorage.getItem("dataMap");return console.log("lay data map",e),JSON.parse(e)})).then((function(e){Object(F.isEmpty)(e)?B("/"):(Le({type:"INIT_DATA_CRT"}),s(e),ve(Object.values(null===e||void 0===e?void 0:e.tileSets).map((function(e){return null===e||void 0===e?void 0:e.src}))),Ne({questions:e.questions},(function(e){console.log(e),He.current=e})),function(e){var t=Object.keys(e),a=e[t[Math.floor(Math.random()*V.a.size(t))]];oe(a),qe({type:"INIT_MAP",currentMap:a})}(null===e||void 0===e?void 0:e.maps),ae.current=null===e||void 0===e?void 0:e.define_item_map,L.current=null===e||void 0===e?void 0:e.questions,sessionStorage.setItem("arrIndexQuestion","[".concat(Object.keys(L.current).toString(),"]")),J((function(){return{maxWrong:e.max_wrong>=1?e.max_wrong:2,quantityWrongCur:0}})),D(!1))}))}),[]),Object(n.useEffect)((function(){}),[Me,ge]),Object(n.useEffect)((function(){Object(F.isEmpty)(ge)||$e(ge)}),[ge]),Object(n.useEffect)((function(){if(!Object(F.isEmpty)(Me)){var e=pe(Object.keys(Me.layers.road),Me.mapHeight);console.log("dataRoad",e),u(e)}}),[Object(F.isEmpty)(Me)]);var Ze,$e=function(e){for(var t in console.log("status map",Me.status),Me.layers)Ke(ye.current[t],t,e)},et=function(e){e||(ne.current=!0),console.log("so mang con lai",W),M(!1)},tt=(null===Me||void 0===Me?void 0:Me.width)*(null===Me||void 0===Me?void 0:Me.mapWidth)/10,at=(null===Me||void 0===Me?void 0:Me.height)*(null===Me||void 0===Me?void 0:Me.mapHeight)/10;return Object(b.jsx)(k,{headerBody:q&&Object(b.jsx)(Re,{}),visibleNavbar:!E,body:Object(b.jsxs)(b.Fragment,{children:[T&&Object(b.jsx)(he,{status:x,randomAngle:w.current,isDice:T}),U&&(Ze=U,Object(b.jsx)(A,{text:Ze,top:"10%",left:"32%",size:"50px"})),!V.a.isEmpty(d)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:Object(j.a)({"text-black":E},{"text-blue":!E}),children:Object(b.jsx)(Te,{})}),Object(b.jsx)("div",{id:"roll",className:"roll-button",hidden:!ne.current,onClick:function(){console.warn("begin handleMove");try{ne.current=!1;var e=Math.floor(6*Math.random())+1;w.current=e;var t=Object.values(Me.layers.charater);console.warn("dice",e);var a=g.current+e;if(a<V.a.size(d)-1){var n;H.current=g.current,Je.current=[].concat(Object(me.a)(Je.current),[a]),Le({type:"ADD_STEP_MOVE",point:a,hi:"handleMove"});var c=d[a];_(!x),C(!0),g.current=a;var i=(n={},Object(p.a)(n,"".concat(c.split("-")[0],"-").concat(c.split("-")[1]-1),t[0]),Object(p.a)(n,c,t[1]),n),s=setTimeout((function(){K("Ti\u1ebfn");var e=setTimeout((function(){qe({type:"UPDATE_LAYER_CHARACTER",newLayerCharacter:i}),K(!1),Ue(1e3,!0),clearTimeout(e)}),1e3);C(!1),clearTimeout(s)}),2e3)}else{var o,r=d[V.a.size(d)-1];_(!x),C(!0);var l=(o={},Object(p.a)(o,"".concat(r.split("-")[0],"-").concat(r.split("-")[1]-1),t[0]),Object(p.a)(o,r,t[1]),o),u=setTimeout((function(){K("Ti\u1ebfn");var e=setTimeout((function(){qe({type:"UPDATE_LAYER_CHARACTER",newLayerCharacter:l}),K(!1),clearTimeout(e)}),1e3);C(!1),clearTimeout(u)}),1500),j=setTimeout((function(){B("/complete"),clearTimeout(j)}),3500)}}catch(b){console.log(b)}console.log("arrStepPoint",Je),console.warn("end handleMove")},children:Object(b.jsx)("button",{className:"button_dice",children:"X\xfac x\u1eafc"})}),Object(b.jsx)("div",{className:"tim",hidden:E,children:function(){if(!Object(F.isEmpty)(W)){var e=W.maxWrong-W.quantityWrongCur;return Array.from(new Array(e),(function(){return Object(b.jsx)("img",{className:"animate__animated animate__bounce",src:"https://img.icons8.com/stickers/20/000000/like.png"})}))}}()}),Object(b.jsxs)("div",{id:"canvasesdiv",style:{width:"100%",minHeight:"100%",position:"relative"},children:[Object(b.jsx)("canvas",{ref:function(e){ye.current.base=e},className:"layer-map layer-base",width:tt,height:at}),Object(b.jsx)("canvas",{ref:function(e){ye.current["item-base"]=e},className:"layer-map layer--item-base",width:tt,height:at}),Object(b.jsx)("canvas",{ref:function(e){ye.current.road=e},className:"layer-map layer--road",width:tt,height:at}),Object(b.jsx)("canvas",{ref:function(e){ye.current["item-road"]=e},className:"layer-map layer--item-road",width:tt,height:at}),Object(b.jsx)("canvas",{ref:function(e){ye.current.charater=e},className:"layer-map layer--item-charater",width:tt,height:at,style:{display:"none"}}),Object(b.jsx)(Oe,{canvasRef:t,currentPoint:g.current,map:d,setIsCrtMoving:We,width:tt,height:at,dataCrtMove:Be,actionDataCrtMove:Le})]})]}),"CRT_STOP_MOVING"===Be.status&&!Ve&&E&&Object(b.jsx)(Y,{imagesCache:He.current,children:Object(b.jsx)(re,{questions:L.current,onCloseModal:et,onBackToPrev:Ye})}),ee&&Object(b.jsx)(ke,{itemModal:Qe.current,srcImage:ge,setTypeModal:te})]}),text:"\u0110ang t\u1ea3i b\u1ea3n \u0111\u1ed3",onSetTypeModal:function(e){console.log("type",e),te(e)}})},De=a(152),Ae=a.n(De);var Be=function(e){var t=Object(o.f)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:Object(j.a)("row"),children:Object(b.jsx)("div",{className:Object(j.a)(Ae.a["image-start"]),children:Object(b.jsx)("img",{src:"./assets/images/start.png",alt:""})})}),Object(b.jsx)("div",{className:Object(j.a)(x.a["center-flex"],"row","mt-2"),children:Object(b.jsx)("div",{onClick:function(){t("/scan")},className:Object(j.a)("btn","col-4",x.a["btn-mobile"],Ae.a["btn-start"]),children:"B\u1eaft \u0111\u1ea7u"})})]})};var Le=function(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(k,{body:Object(b.jsx)(Be,{})})})};a(454);function He(e){var t=Object(o.f)(),a=Object(n.useState)(0),c=Object(O.a)(a,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){s(JSON.parse(sessionStorage.getItem("totalTime")))}),[sessionStorage.getItem("totalTime")]),Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{style:{width:"100%",height:"745px"},src:"https://previews.123rf.com/images/lilu330/lilu3301612/lilu330161200073/68821802-beautiful-mountain-meadow-landscape-vector-cartoon-outdoor-illustration-sunny-day-background-for-gam.jpg"}),Object(b.jsx)("span",{className:"game_over",children:"GAME OVER"}),Object(b.jsxs)("span",{className:"total_time_play_lose",children:["T\u1ed5ng th\u1eddi gian ch\u01a1i: ",function(e){var t=e%60>=10?e%60:"0".concat(e%60),a=Math.floor(e/60)>=10?Math.floor(e/60):"0".concat(Math.floor(e/60));return"".concat(a," ph\xfat ").concat(t," gi\xe2y")}(i)]}),Object(b.jsx)("button",{className:"play_again",onClick:function(){t("/map"),sessionStorage.removeItem("totalTime")},children:"Ch\u01a1i l\u1ea1i"}),Object(b.jsx)("button",{className:"exit_game",onClick:function(){t("/start"),sessionStorage.removeItem("totalTime")},children:"Tho\xe1t"})]})}var Qe=function(){return Object(b.jsx)(k,{body:Object(b.jsx)(He,{})})},ze=a(236),Fe=a.n(ze);var Ve=function(e){console.log("headbreaker.Canvas",Fe.a.Canvas);var t=Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("canvas",{id:"validated-canvas"})});return Object(b.jsx)(k,{body:t})},We=[{path:"/",element:Object(b.jsx)(Le,{}),name:"Home"},{path:"/start",element:Object(b.jsx)(Le,{}),name:"start"},{path:"/question",element:Object(b.jsx)(le,{}),name:"question"},{path:"/complete",element:Object(b.jsx)(P,{}),name:"Complete"},{path:"/scan",element:Object(b.jsx)(oe,{}),name:"scan"},{path:"/map",element:Object(b.jsx)(qe,{}),name:"map"},{path:"/lose",element:Object(b.jsx)(Qe,{}),name:"lose"},{path:"/test",element:Object(b.jsx)(Ve,{}),name:"lose"},{path:"/loading",element:Object(b.jsx)(Re,{}),name:"lose"}];var Je=function(){return Object(b.jsx)(s.a,{children:Object(b.jsx)(o.c,{children:We.map((function(e,t){var a=e.path,n=e.element;return Object(b.jsx)(o.a,{path:a,element:n},t)}))})})};i.a.render(Object(b.jsx)(Je,{}),document.getElementById("root"))},55:function(e,t,a){e.exports={"container-effect":"Hoaroi_container-effect__1IsWt","confetti-container":"Hoaroi_confetti-container__3Ad9s",confetti:"Hoaroi_confetti__24E-E","confetti--animation-slow":"Hoaroi_confetti--animation-slow__1q0fN","confetti-slow":"Hoaroi_confetti-slow__3U4kJ","confetti--animation-medium":"Hoaroi_confetti--animation-medium__F6vj4","confetti-medium":"Hoaroi_confetti-medium__2BfH4","confetti--animation-fast":"Hoaroi_confetti--animation-fast__3Dpe7","confetti-fast":"Hoaroi_confetti-fast__V2W8c",checkmark:"Hoaroi_checkmark__tk8iD"}}},[[505,1,2]]]);
//# sourceMappingURL=main.e25575cb.chunk.js.map